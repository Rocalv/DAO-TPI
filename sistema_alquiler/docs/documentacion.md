# Sistema de Alquiler de Veh√≠culos
**Documentaci√≥n T√©cnica v1.0**

## üìã √çndice
1. [Informaci√≥n General](#informaci√≥n-general)
2. [Tecnolog√≠as Utilizadas](#tecnolog√≠as-utilizadas)
3. [Arquitectura del Sistema](#arquitectura-del-sistema)
4. [Estructura de Clases](#estructura-de-clases)
5. [Base de Datos](#base-de-datos)
6. [Casos de Uso](#casos-de-uso)
7. [Validaciones y Reglas de Negocio](#validaciones-y-reglas-de-negocio)

---

## üìå Informaci√≥n General

### Objetivo del Sistema
Desarrollar una aplicaci√≥n integral para la gesti√≥n de un negocio de alquiler de veh√≠culos que permita:
- Administrar clientes, veh√≠culos y empleados
- Gestionar alquileres con control de disponibilidad
- Registrar mantenimientos preventivos y correctivos
- Controlar multas y da√±os
- Generar reportes detallados y estad√≠sticos

### Alcance Funcional
- **M√≥dulo de Clientes**: ABM completo con validaci√≥n de DNI √∫nico
- **M√≥dulo de Veh√≠culos**: Control de estado, disponibilidad y mantenimiento
- **M√≥dulo de Empleados**: Gesti√≥n de personal activo
- **M√≥dulo de Alquileres**: Transacci√≥n principal con c√°lculo autom√°tico de costos
- **M√≥dulo de Mantenimiento**: Registro y seguimiento de servicios
- **M√≥dulo de Multas**: Gesti√≥n de penalizaciones
- **M√≥dulo de Reservas**: Sistema de reservas anticipadas
- **M√≥dulo de Reportes**: Listados y estad√≠sticas

---

## üõ†Ô∏è Tecnolog√≠as Utilizadas

| Componente | Tecnolog√≠a | Versi√≥n |
|------------|------------|---------|
| Lenguaje | Python | 3.10+ |
| Framework UI | Flet | Latest |
| Base de Datos | SQLite | 3 |
| ORM/Database | sqlite3 (nativo) | - |

### Librer√≠as Principales
```python
flet>=0.21.0
matplotlib>=3.7.0  # Para gr√°ficos en reportes
reportlab>=4.0.0   # Para generaci√≥n de PDFs
```

---

## üèóÔ∏è Arquitectura del Sistema

### Programaci√≥n Orientada a Objetos

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Interfaz UI   ‚îÇ  (Flet - Vista)
‚îÇ    (Views)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Models      ‚îÇ  (Clases de Negocio + Persistencia)
‚îÇ  (Cliente,      ‚îÇ
‚îÇ   Vehiculo,     ‚îÇ
‚îÇ   Alquiler...)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   SQLite DB     ‚îÇ  (Base de Datos)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Estructura de Directorios
```
sistema_alquiler/
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_config.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ crear_tablas.py
|   |   |__ alquiler.db
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cliente.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ empleado.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vehiculo.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categoria.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ alquiler.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mantenimiento.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ multa.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reserva.py
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ validaciones.py
‚îÇ       ‚îî‚îÄ‚îÄ reportes.py
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_view.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cliente_view.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vehiculo_view.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ alquiler_view.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reporte_view.py
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ widgets.py
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ documentacion.md
```

---

## üéØ Patrones de Dise√±o Aplicados

### 1. Patr√≥n SINGLETON - Conexi√≥n a Base de Datos

Se utiliza el patr√≥n SINGLETON para garantizar una √∫nica instancia de conexi√≥n a la base de datos en toda la aplicaci√≥n.

**Problema que resuelve:**
- Evita m√∫ltiples conexiones simult√°neas a SQLite
- Mejora el rendimiento reutilizando la conexi√≥n
- Previene problemas de concurrencia y bloqueos
- Centraliza la gesti√≥n de la conexi√≥n

**Implementaci√≥n:**
```python
class DatabaseConnection:
    _instance = None
    _connection = None
    
    def __new__(cls):
        if cls._instance is None:
            cls._instance = super().__new__(cls)
        return cls._instance
    
    def get_connection(self):
        if self._connection is None:
            self._connection = sqlite3.connect('alquiler.db')
        return self._connection
```

**Beneficios:**
- Una sola instancia en toda la aplicaci√≥n
- Acceso global controlado a la BD
- Gesti√≥n eficiente de recursos

---

### 2. Patr√≥n STATE - Estados del Veh√≠culo

Se utiliza el patr√≥n STATE para gestionar los diferentes estados de un veh√≠culo de manera elegante y extensible.

**Diagrama de Estados:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Disponible  ‚îÇ ‚óÑ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
       ‚îÇ           ‚îÇ
       ‚ñº           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  Alquilado  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    
‚îÇMantenimiento‚îÇ ‚îÄ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
       ‚îÇ           ‚îÇ
       ‚ñº           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇFuera Servicio‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Clases:**
```python
# Interfaz base
class EstadoVehiculo:
    def puede_alquilarse(self) -> bool: pass
    def puede_ir_a_mantenimiento(self) -> bool: pass
    def nombre_estado(self) -> str: pass

# Estados concretos
class EstadoDisponible(EstadoVehiculo): ...
class EstadoAlquilado(EstadoVehiculo): ...
class EstadoEnMantenimiento(EstadoVehiculo): ...
class EstadoFueraServicio(EstadoVehiculo): ...
```

**Beneficios:**
- F√°cil agregar nuevos estados sin modificar Vehiculo
- Cada estado encapsula su comportamiento
- Transiciones de estado expl√≠citas y controladas

---

## üì¶ Estructura de Clases

### 1. Clase Cliente
**Ubicaci√≥n**: `models/cliente.py`

```python
class Cliente:
    """
    Representa un cliente del sistema de alquiler.
    Contiene informaci√≥n personal y m√©todos para gesti√≥n de clientes.
    """
    
    # Atributos
    - id_cliente: int (PK, autoincremental)
    - nombre: str (max 100, requerido)
    - apellido: str (max 100, requerido)
    - dni: str (max 20, √∫nico, requerido)
    - telefono: str (max 20)
    - email: str (max 150)
    - direccion: str (max 200)
    - fecha_registro: date (auto)
    - activo: bool (default True)
    
```

---

### 2. Clase Empleado
**Ubicaci√≥n**: `models/empleado.py`

```python
class Empleado:
    """
    Representa un empleado de la empresa de alquiler.
    """
    
    # Atributos
    - id_empleado: int (PK, autoincremental)
    - dni: str (max 20, √∫nico, requerido)
    - nombre: str (max 100, requerido)
    - apellido: str (max 100, requerido)
    - cargo: str (max 100)
    - telefono: str (max 20)
    - email: str (max 150)
    - activo: bool (default True)
    
```

---

### 3. Clase Categoria
**Ubicaci√≥n**: `models/categoria.py`

```python
class Categoria:
    """
    Define categor√≠as de veh√≠culos con caracter√≠sticas comunes.
    """
    
    # Atributos
    - id_categoria: int (PK, autoincremental)
    - nombre: str (max 50, √∫nico, requerido)
    - descripcion: str (max 200)
    - precio_base: Decimal (requerido, > 0)
    - dias_mantenimiento: int (default 90)
    
```

**Ejemplos**: Econ√≥mico, Sedan, SUV, Camioneta, Utilitario

---

### 4. Clase Vehiculo
**Ubicaci√≥n**: `models/vehiculo.py`

```python
class Vehiculo:
    """
    Representa un veh√≠culo disponible para alquiler.
    """
    
    # Atributos
    - id_vehiculo: int (PK, autoincremental)
    - patente: str (max 10, √∫nico, requerido)
    - marca: str (max 50, requerido)
    - modelo: str (max 50, requerido)
    - anio: int (requerido)
    - color: str (max 30)
    - precio_dia: Decimal (requerido, > 0)
    - estado: str (disponible|alquilado|mantenimiento|fuera_servicio)
    - disponible: bool (calculado)
    - kilometraje: int (default 0)
    - kilometraje_mantenimiento: int (pr√≥ximo mantenimiento)
    - id_categoria: int (FK -> Categoria)
    
```

**Estados**: disponible, alquilado, mantenimiento, fuera_servicio

---

### 5. Clase Seguro
**Ubicaci√≥n**: `models/seguro.py`

```python
class Seguro:
    """
    Define tipos de seguro para alquileres.
    """
    
    # Atributos
    - id_seguro: int (PK, autoincremental)
    - tipo: str (max 50, requerido)
    - cobertura: str (max 500)
    - costo_diario: Decimal (requerido, >= 0)
    - deducible: Decimal (default 0)
    
```

**Tipos**: B√°sico, Completo, Premium

---

### 6. Clase Alquiler (Transacci√≥n Principal)
**Ubicaci√≥n**: `models/alquiler.py`

```python
class Alquiler:
    """
    Representa la transacci√≥n principal del sistema.
    Gestiona el alquiler de un veh√≠culo por un cliente.
    """
    
    # Atributos
    - id_alquiler: int (PK, autoincremental)
    - fecha_inicio: date (requerido)
    - fecha_fin: date (requerido)
    - fecha_entrega_real: date (nullable)
    - costo_total: Decimal (calculado)
    - deposito: Decimal (requerido)
    - estado: str (pendiente|activo|finalizado|cancelado)
    - observaciones: str (max 500)
    - costo_seguro: Decimal (calculado)
    - id_cliente: int (FK -> Cliente, requerido)
    - id_vehiculo: int (FK -> Vehiculo, requerido)
    - id_empleado: int (FK -> Empleado, requerido)
    - id_seguro: int (FK -> Seguro, requerido)
    
```

**Estados**: pendiente, activo, finalizado, cancelado

---

### 7. Clase Mantenimiento
**Ubicaci√≥n**: `models/mantenimiento.py`

```python
class Mantenimiento:
    """
    Registra servicios de mantenimiento en veh√≠culos.
    """
    
    # Atributos
    - id_mantenimiento: int (PK, autoincremental)
    - fecha_inicio: date (requerido)
    - fecha_fin: date (nullable)
    - tipo: str (preventivo|correctivo|revision)
    - descripcion: str (max 500)
    - costo: Decimal (>= 0)
    - kilometraje: int (requerido)
    - proveedor: str (max 150)
    - estado: str (pendiente|en_proceso|finalizado)
    - id_vehiculo: int (FK -> Vehiculo, requerido)
    - id_empleado: int (FK -> Empleado, requerido)
    
```

**Tipos**: preventivo, correctivo, revision  
**Estados**: pendiente, en_proceso, finalizado

---

### 8. Clase Multa
**Ubicaci√≥n**: `models/multa.py`

```python
class Multa:
    """
    Registra multas asociadas a alquileres.
    """
    
    # Atributos
    - id_multa: int (PK, autoincremental)
    - motivo: str (max 200, requerido)
    - monto: Decimal (requerido, > 0)
    - fecha: date (auto)
    - pagada: bool (default False)
    - descripcion: str (max 500)
    - id_alquiler: int (FK -> Alquiler, requerido)
    
```

**Motivos comunes**: Retraso, Da√±os, Infracci√≥n de tr√°nsito, Limpieza

---

### 9. Clase Reserva
**Ubicaci√≥n**: `models/reserva.py`

```python
class Reserva:
    """
    Gestiona reservas anticipadas de veh√≠culos.
    """
    
    # Atributos
    - id_reserva: int (PK, autoincremental)
    - fecha_reserva: date (auto)
    - fecha_inicio: date (requerido)
    - fecha_fin: date (requerido)
    - estado: str (pendiente|confirmada|cancelada|convertida)
    - fecha_confirmacion: date (nullable)
    - senia: Decimal (>= 0)
    - id_cliente: int (FK -> Cliente, requerido)
    - id_vehiculo: int (FK -> Vehiculo, requerido)
    - id_alquiler: int (FK -> Alquiler, nullable)
    
```

**Estados**: pendiente, confirmada, cancelada, convertida

---

## üóÑÔ∏è Base de Datos

### Diagrama Entidad-Relaci√≥n
```
CLIENTE (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) ALQUILER (N) ‚îÄ‚îÄ‚îÄ‚îÄ (1) VEHICULO
                      ‚îÇ                      ‚îÇ
                      ‚îÇ                      ‚îÇ
                     (1)                    (N)
                      ‚îÇ                      ‚îÇ
                   MULTA              MANTENIMIENTO
```

### Tablas Principales

#### Tabla: clientes
```sql
CREATE TABLE clientes (
    id_cliente INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre TEXT NOT NULL,
    apellido TEXT NOT NULL,
    dni TEXT UNIQUE NOT NULL,
    telefono TEXT,
    email TEXT,
    direccion TEXT,
    fecha_registro DATE DEFAULT CURRENT_DATE,
    activo BOOLEAN DEFAULT 1
);
```

#### Tabla: empleados
```sql
CREATE TABLE empleados (
    id_empleado INTEGER PRIMARY KEY AUTOINCREMENT,
    dni TEXT UNIQUE NOT NULL,
    nombre TEXT NOT NULL,
    apellido TEXT NOT NULL,
    cargo TEXT,
    telefono TEXT,
    email TEXT,
    activo BOOLEAN DEFAULT 1
);
```

#### Tabla: categorias
```sql
CREATE TABLE categorias (
    id_categoria INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre TEXT UNIQUE NOT NULL,
    descripcion TEXT,
    precio_base REAL NOT NULL,
    dias_mantenimiento INTEGER DEFAULT 90
);
```

#### Tabla: vehiculos
```sql
CREATE TABLE vehiculos (
    id_vehiculo INTEGER PRIMARY KEY AUTOINCREMENT,
    patente TEXT UNIQUE NOT NULL,
    marca TEXT NOT NULL,
    modelo TEXT NOT NULL,
    anio INTEGER NOT NULL,
    color TEXT,
    precio_dia REAL NOT NULL,
    estado TEXT DEFAULT 'disponible',
    kilometraje INTEGER DEFAULT 0,
    kilometraje_mantenimiento INTEGER,
    id_categoria INTEGER,
    FOREIGN KEY (id_categoria) REFERENCES categorias(id_categoria)
);
```

#### Tabla: alquileres
```sql
CREATE TABLE alquileres (
    id_alquiler INTEGER PRIMARY KEY AUTOINCREMENT,
    fecha_inicio DATE NOT NULL,
    fecha_fin DATE NOT NULL,
    fecha_entrega_real DATE,
    costo_total REAL,
    deposito REAL NOT NULL,
    estado TEXT DEFAULT 'pendiente',
    observaciones TEXT,
    id_cliente INTEGER NOT NULL,
    id_vehiculo INTEGER NOT NULL,
    id_empleado INTEGER NOT NULL,
    FOREIGN KEY (id_cliente) REFERENCES clientes(id_cliente),
    FOREIGN KEY (id_vehiculo) REFERENCES vehiculos(id_vehiculo),
    FOREIGN KEY (id_empleado) REFERENCES empleados(id_empleado)
);
```

#### Tabla: mantenimientos
```sql
CREATE TABLE mantenimientos (
    id_mantenimiento INTEGER PRIMARY KEY AUTOINCREMENT,
    fecha_inicio DATE NOT NULL,
    fecha_fin DATE,
    tipo TEXT NOT NULL,
    descripcion TEXT,
    costo REAL DEFAULT 0,
    kilometraje INTEGER NOT NULL,
    proveedor TEXT,
    estado TEXT DEFAULT 'pendiente',
    id_vehiculo INTEGER NOT NULL,
    id_empleado INTEGER NOT NULL,
    FOREIGN KEY (id_vehiculo) REFERENCES vehiculos(id_vehiculo),
    FOREIGN KEY (id_empleado) REFERENCES empleados(id_empleado)
);
```

#### Tabla: multas
```sql
CREATE TABLE multas (
    id_multa INTEGER PRIMARY KEY AUTOINCREMENT,
    motivo TEXT NOT NULL,
    monto REAL NOT NULL,
    fecha DATE DEFAULT CURRENT_DATE,
    pagada BOOLEAN DEFAULT 0,
    descripcion TEXT,
    id_alquiler INTEGER NOT NULL,
    FOREIGN KEY (id_alquiler) REFERENCES alquileres(id_alquiler)
);
```

#### Tabla: reservas
```sql
CREATE TABLE reservas (
    id_reserva INTEGER PRIMARY KEY AUTOINCREMENT,
    fecha_reserva DATE DEFAULT CURRENT_DATE,
    fecha_inicio DATE NOT NULL,
    fecha_fin DATE NOT NULL,
    estado TEXT DEFAULT 'pendiente',
    fecha_confirmacion DATE,
    senia REAL DEFAULT 0,
    id_cliente INTEGER NOT NULL,
    id_vehiculo INTEGER NOT NULL,
    id_alquiler INTEGER,
    FOREIGN KEY (id_cliente) REFERENCES clientes(id_cliente),
    FOREIGN KEY (id_vehiculo) REFERENCES vehiculos(id_vehiculo),
    FOREIGN KEY (id_alquiler) REFERENCES alquileres(id_alquiler)
);
```

---

## ‚úÖ Validaciones y Reglas de Negocio

### Validaciones de Datos

#### Cliente
- DNI: √∫nico, num√©rico, 7-8 d√≠gitos
- Email: formato v√°lido (regex: `^[\w\.-]+@[\w\.-]+\.\w+$`)
- Tel√©fono: num√©rico, 10-15 d√≠gitos
- Nombre/Apellido: no vac√≠os, solo letras y espacios

#### Veh√≠culo
- Patente: √∫nica, formato v√°lido (ABC123 o AB123CD)
- A√±o: entre 1980 y a√±o actual + 1
- Precio por d√≠a: mayor a 0
- Kilometraje: no negativo

#### Alquiler
- fecha_fin > fecha_inicio
- M√≠nimo 1 d√≠a de alquiler
- Dep√≥sito: m√≠nimo 30% del costo total estimado
- Veh√≠culo debe estar "disponible"

### Reglas de Negocio

1. **Disponibilidad de Veh√≠culo**:
   - No puede estar en dos alquileres simult√°neos
   - Si est√° en mantenimiento, no se puede alquilar

2. **C√°lculo de Costos**:
   ```
   d√≠as = (fecha_fin - fecha_inicio).days
   costo_total = d√≠as √ó precio_dia_vehiculo
   ```

3. **Multas por Retraso**:
   ```
   d√≠as_retraso = (fecha_entrega_real - fecha_fin).days
   si d√≠as_retraso > 0:
       multa = d√≠as_retraso √ó (precio_dia √ó 1.20)
   ```

4. **Mantenimiento Preventivo**:
   - Si (kilometraje_actual - kilometraje_√∫ltimo_mantenimiento) >= categor√≠a.dias_mantenimiento √ó 100
   - Mostrar alerta de mantenimiento necesario

5. **Reservas**:
   - Se√±a = 20% del costo estimado
   - Vence si no se confirma 24hs antes
   - Al convertir a alquiler, se√±a se descuenta del dep√≥sito

---

## üìä Reportes Requeridos

### Reportes Detallados
1. **Listado de alquileres por cliente**
2. **Veh√≠culos m√°s alquilados**
3. **Alquileres por per√≠odo (mes, trimestre)**

### Reportes Estad√≠sticos
1. **Facturaci√≥n mensual** (gr√°fico de barras)
2. **Ocupaci√≥n de veh√≠culos**
3. **Mantenimientos por veh√≠culo**

---

## üöÄ Pr√≥ximos Pasos

1. Implementar estructura de carpetas
2. Crear configuraci√≥n de base de datos
3. Desarrollar modelos de datos
4. Implementar capa DAO
5. Crear controllers
6. Dise√±ar interfaz con Flet
7. Implementar m√≥dulo de reportes
8. Testing y ajustes finales